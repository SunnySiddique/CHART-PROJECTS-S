(self.webpackChunkweb=self.webpackChunkweb||[]).push([[286],{51260:function(e,t,r){"use strict";function n(e){var t=document.createElement("div");return t.innerHTML=e,t.textContent||""}r.d(t,{y:function(){return a}});function a(e,t){var r;return void 0===t&&(t=0),Object.assign({index:t,item_id:null==e?void 0:e.slug,item_name:null==e?void 0:e.name,price:+(null==e?void 0:e.price),item_brand:null==e||null===(r=e.WCStores)||void 0===r?void 0:r.store_name},((null==e?void 0:e.categories)||[]).map((function(e){return n(e.name)})).reduce((function(e,t,r){return e[r?"item_category"+r:"item_category"]=t,e}),{}))}},24020:function(e,t,r){"use strict";r.d(t,{Z:function(){return L}});var n=r(67294),a=r(24591),i=r(32465),o=r(19756),c=r(22122),s=r(38685),l=r(54345),d=r(31243),m=r(16609),u=r(41790),v=r(3512);function f(e){return(0,v.Z)("MuiCircularProgress",e)}(0,r(16630).Z)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var h,p,w,k,g,Z,y,b,x,S=r(85893),E=["className","color","disableShrink","size","style","thickness","value","variant"],C=44,P=(0,d.F4)(g||(g=h||(h=(0,i.Z)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),N=(0,d.F4)(Z||(Z=p||(p=(0,i.Z)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),D=(0,a.ZP)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var r=e.ownerState;return[t.root,t[r.variant],t["color".concat((0,m.Z)(r.color))]]}})((function(e){var t=e.ownerState,r=e.theme;return(0,c.Z)({display:"inline-block"},"determinate"===t.variant&&{transition:r.transitions.create("transform")},"inherit"!==t.color&&{color:r.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&(0,d.iv)(y||(y=w||(w=(0,i.Z)(["\n      animation: "," 1.4s linear infinite;\n    "]))),P)})),M=(0,a.ZP)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),I=(0,a.ZP)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var r=e.ownerState;return[t.circle,t["circle".concat((0,m.Z)(r.variant))],r.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,r=e.theme;return(0,c.Z)({stroke:"currentColor"},"determinate"===t.variant&&{transition:r.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&(0,d.iv)(b||(b=k||(k=(0,i.Z)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),N)})),_=n.forwardRef((function(e,t){var r=(0,u.Z)({props:e,name:"MuiCircularProgress"}),n=r.className,a=r.color,i=void 0===a?"primary":a,d=r.disableShrink,v=void 0!==d&&d,h=r.size,p=void 0===h?40:h,w=r.style,k=r.thickness,g=void 0===k?3.6:k,Z=r.value,y=void 0===Z?0:Z,b=r.variant,x=void 0===b?"indeterminate":b,P=(0,o.Z)(r,E),N=(0,c.Z)({},r,{color:i,disableShrink:v,size:p,thickness:g,value:y,variant:x}),_=function(e){var t=e.classes,r=e.variant,n=e.color,a=e.disableShrink,i={root:["root",r,"color".concat((0,m.Z)(n))],svg:["svg"],circle:["circle","circle".concat((0,m.Z)(r)),a&&"circleDisableShrink"]};return(0,l.Z)(i,f,t)}(N),B={},R={},j={};if("determinate"===x){var H=2*Math.PI*((C-g)/2);B.strokeDasharray=H.toFixed(3),j["aria-valuenow"]=Math.round(y),B.strokeDashoffset="".concat(((100-y)/100*H).toFixed(3),"px"),R.transform="rotate(-90deg)"}return(0,S.jsx)(D,(0,c.Z)({className:(0,s.Z)(_.root,n),style:(0,c.Z)({width:p,height:p},R,w),ownerState:N,ref:t,role:"progressbar"},j,P,{children:(0,S.jsx)(M,{className:_.svg,ownerState:N,viewBox:"".concat(22," ").concat(22," ").concat(C," ").concat(C),children:(0,S.jsx)(I,{className:_.circle,style:B,ownerState:N,cx:C,cy:C,r:(C-g)/2,fill:"none",strokeWidth:g})})}))})),B=r(25444),R="Iframe-iframe",j="Iframe-loader",H=(0,a.ZP)("div")(((x={})["& ."+R]={display:"block",width:"100%",minHeight:400,maxHeight:"calc(100vh - 187px)"},x["& ."+j]={display:"flex",justifyContent:"center",minHeight:400,alignItems:"center"},x));function L(e){var t=n.useState(!1),r=t[0],a=t[1],i=n.useState(null),o=i[0],c=i[1];return n.useEffect((function(){var e=function(e){r||a(!0),console.log("event.data",e.data);var t=e.data.scrollHeight;t&&c(t),e.data.redirect&&(window.location=e.data.redirect),e.data.pathname&&function(e){var t=e.pathname,r=e.search;if("/"!==t){if(!/^\/items\/(.*)\/edit\/$/.test(t))if(/^(\/items\/|\/contributors\/|\/order-cart\/|\/my-account\/lost-password\/)/.test(t))(0,B.c4)("/store"+t+r);else{var n=/^\/order-payment\/order-received\/(.*)\/$/.exec(t);if(n){var a=parseInt(n[1],10),i=r.replace(/^\?key=/,"");(0,B.c4)("/store/order-download/?orderId="+a+"&key="+i)}}}else window.location=(0,B.dq)("/")}({pathname:e.data.pathname,search:e.data.search})};return window.addEventListener("message",e,!1),function(){window.removeEventListener("message",e,!1)}}),[r]),n.createElement(H,null,!1===r?n.createElement("div",{className:j},n.createElement(_,null)):null,n.createElement("iframe",Object.assign({className:R,title:"body",style:{visibility:r?"visible":"hidden",height:r?null:100,minHeight:o},onLoad:function(){e.onLoad&&e.onLoad(),a(!0)},frameBorder:"0"},e)))}},2486:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return E}});var n=r(67294),a=r(24591),i=r(37346),o=r(75678),c=r(85906),s=r(38500),l=r(47153),d=r(1937),m=r(41215),u=r(24020),v=r(42283),f=r(93051),h=r(63035),p=r(87010),w=r(51260),k="preview-appBar",g="preview-toolbar",Z="preview-grow",y="preview-button",b="preview-iframe",x="preview-link",S=(0,a.ZP)("div")((function(e){var t,r=e.theme;return(t={})["& ."+k]={backgroundColor:"#24292e",color:"#fff"},t["& ."+g]={height:70,borderBottom:"1px solid "+r.palette.grey[200]},t["& ."+Z]={flexGrow:1},t["& ."+y]={marginRight:r.spacing(1)},t["& ."+b]={display:"block",height:"calc(100vh - 70px)",width:"100%"},t["& ."+x]={display:"inline-flex"},t}));function E(e){var t,r=e.data.wcProducts,a=(0,h.q$)({slug:r.slug,name:r.name}),E=(0,h.sd)(r.meta_data,"wccaf_preview_url"),C=E&&""!==E.value?E.value:a.preview;!C&&a.downloads?t=a.downloads:a.previewSkipIframe&&(t=C),n.useEffect((function(){t&&(window.location=t)}),[t]);var P=n.createElement(f.Z,{title:r.name+" - MUI Store"},n.createElement("meta",{name:"robots",content:"noindex,nofollow"}));return t?P:n.createElement(S,null,n.createElement(c.Z,{styles:{html:{overflowY:"auto"}}}),P,n.createElement(i.Z,{className:k,elevation:0,position:"static"},n.createElement(l.Z,{className:g},n.createElement(v.Z,{color:"inherit",to:"/store/","aria-label":"Back to homepage"},n.createElement(s.Z,{component:"h1"})),n.createElement("div",{className:Z}),n.createElement(d.Z,{naked:!0,component:v.Z,variant:"contained",className:y,to:"/store/items/"+r.slug+"/",onClick:function(){"0"===r.price?p.Z.itemPreview.trackDownloadClicked({items:[(0,w.y)(r)]}):p.Z.itemPreview.trackBuyNowClicked({items:[(0,w.y)(r)]})}},"0"===r.price?"Download":"Buy now"),n.createElement(m.Z,{color:"inherit",href:C,className:x,onClick:function(){p.Z.itemPreview.trackRemoveFrameClicked({items:[(0,w.y)(r)]})}},n.createElement(o.Z,{fontSize:"small"}),"Remove frame"))),n.createElement(u.Z,{className:b,title:"preview",frameBorder:"0",src:C}))}}}]);